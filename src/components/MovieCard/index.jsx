import React from 'react';
import { Link } from 'react-router-dom';
import MovieVote from '../MovieVote';


const MovieCard = ({ movie, onVote }) => {
  const base_url = "https://image.tmdb.org/t/p/";
  const file_size = "w500";
  const fallbackImageUrl = "data:image/jpeg;base64,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";

  // const imageUrl = `${base_url}${file_size}${movie.poster_path}`;
  const imageUrl = movie.poster_path 
  ? `${base_url}${file_size}${movie.poster_path}` 
  : fallbackImageUrl;
  return (
    <div className="movie-card">
      <img src={imageUrl} alt={movie.title} className="movie-poster" />
      <p>Release Date: {movie.release_date}</p>
      <Link to={`/movies/${movie.id}`}>View Details</Link>
      <MovieVote movie={movie} onVote={onVote} />
    </div>
  );
};

export default MovieCard;

